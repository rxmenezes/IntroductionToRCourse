<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Functions | Using R for data analysis</title>
  <meta name="description" content="This course teaches the basics of R, an open-source and free environment for statistical analyses. In this course we also teach the basics transparent and reproducible research. For this, we teach RMarkdown, a tool to make dynamic reports in R." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Functions | Using R for data analysis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This course teaches the basics of R, an open-source and free environment for statistical analyses. In this course we also teach the basics transparent and reproducible research. For this, we teach RMarkdown, a tool to make dynamic reports in R." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Functions | Using R for data analysis" />
  
  <meta name="twitter:description" content="This course teaches the basics of R, an open-source and free environment for statistical analyses. In this course we also teach the basics transparent and reproducible research. For this, we teach RMarkdown, a tool to make dynamic reports in R." />
  



<meta name="date" content="2024-05-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-types-part-2.html"/>
<link rel="next" href="appendix.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this course</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#teachers"><i class="fa fa-check"></i>Teachers</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#goals-topics"><i class="fa fa-check"></i>Goals &amp; Topics</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#materials"><i class="fa fa-check"></i>Materials</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#programme"><i class="fa fa-check"></i>Programme</a>
<ul>
<li class="chapter" data-level="0.0.1" data-path="index.html"><a href="index.html#sixth-nki-edition-june-3rd-4th-6th-and-7th-2024"><i class="fa fa-check"></i><b>0.0.1</b> Sixth NKI edition, June 3rd, 4th, 6th, and 7th 2024</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="basics-of-r.html"><a href="basics-of-r.html"><i class="fa fa-check"></i><b>1</b> Basics of R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="basics-of-r.html"><a href="basics-of-r.html#data-sets"><i class="fa fa-check"></i><b>1.1</b> Data sets</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="basics-of-r.html"><a href="basics-of-r.html#pulse"><i class="fa fa-check"></i><b>1.1.1</b> Pulse</a></li>
<li class="chapter" data-level="1.1.2" data-path="basics-of-r.html"><a href="basics-of-r.html#survey"><i class="fa fa-check"></i><b>1.1.2</b> Survey</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="basics-of-r.html"><a href="basics-of-r.html#introduction"><i class="fa fa-check"></i><b>1.2</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="basics-of-r.html"><a href="basics-of-r.html#why-this-course"><i class="fa fa-check"></i><b>1.2.1</b> Why this course?</a></li>
<li class="chapter" data-level="1.2.2" data-path="basics-of-r.html"><a href="basics-of-r.html#what-is-r"><i class="fa fa-check"></i><b>1.2.2</b> What is R?</a></li>
<li class="chapter" data-level="1.2.3" data-path="basics-of-r.html"><a href="basics-of-r.html#r-a-short-history"><i class="fa fa-check"></i><b>1.2.3</b> <em>R</em>: a short history</a></li>
<li class="chapter" data-level="1.2.4" data-path="basics-of-r.html"><a href="basics-of-r.html#r-is-open-source"><i class="fa fa-check"></i><b>1.2.4</b> R is Open Source</a></li>
<li class="chapter" data-level="1.2.5" data-path="basics-of-r.html"><a href="basics-of-r.html#r-and-rstudio"><i class="fa fa-check"></i><b>1.2.5</b> R and RStudio</a></li>
<li class="chapter" data-level="1.2.6" data-path="basics-of-r.html"><a href="basics-of-r.html#rstudio-packages"><i class="fa fa-check"></i><b>1.2.6</b> RStudio packages</a></li>
<li class="chapter" data-level="1.2.7" data-path="basics-of-r.html"><a href="basics-of-r.html#course-overview"><i class="fa fa-check"></i><b>1.2.7</b> Course overview</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="basics-of-r.html"><a href="basics-of-r.html#basics"><i class="fa fa-check"></i><b>1.3</b> Basics</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="basics-of-r.html"><a href="basics-of-r.html#r-as-a-calculator"><i class="fa fa-check"></i><b>1.3.1</b> R as a calculator</a></li>
<li class="chapter" data-level="1.3.2" data-path="basics-of-r.html"><a href="basics-of-r.html#variables"><i class="fa fa-check"></i><b>1.3.2</b> Variables</a></li>
<li class="chapter" data-level="1.3.3" data-path="basics-of-r.html"><a href="basics-of-r.html#vectors"><i class="fa fa-check"></i><b>1.3.3</b> Vectors</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="basics-of-r.html"><a href="basics-of-r.html#projects-and-scripts"><i class="fa fa-check"></i><b>1.4</b> Projects and scripts</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="basics-of-r.html"><a href="basics-of-r.html#projects"><i class="fa fa-check"></i><b>1.4.1</b> Projects</a></li>
<li class="chapter" data-level="1.4.2" data-path="basics-of-r.html"><a href="basics-of-r.html#reading-data"><i class="fa fa-check"></i><b>1.4.2</b> Reading data</a></li>
<li class="chapter" data-level="1.4.3" data-path="basics-of-r.html"><a href="basics-of-r.html#scripts"><i class="fa fa-check"></i><b>1.4.3</b> Scripts</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="basics-of-r.html"><a href="basics-of-r.html#data-frames-basics"><i class="fa fa-check"></i><b>1.5</b> Data frames (basics)</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="basics-of-r.html"><a href="basics-of-r.html#exploring-datasets"><i class="fa fa-check"></i><b>1.5.1</b> Exploring datasets</a></li>
<li class="chapter" data-level="1.5.2" data-path="basics-of-r.html"><a href="basics-of-r.html#extracting"><i class="fa fa-check"></i><b>1.5.2</b> Extracting</a></li>
<li class="chapter" data-level="1.5.3" data-path="basics-of-r.html"><a href="basics-of-r.html#example-data"><i class="fa fa-check"></i><b>1.5.3</b> Example data</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="basics-of-r.html"><a href="basics-of-r.html#basic-data-types"><i class="fa fa-check"></i><b>1.6</b> Basic data types</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="basics-of-r.html"><a href="basics-of-r.html#types"><i class="fa fa-check"></i><b>1.6.1</b> Types</a></li>
<li class="chapter" data-level="1.6.2" data-path="basics-of-r.html"><a href="basics-of-r.html#vector-classes"><i class="fa fa-check"></i><b>1.6.2</b> Vector classes</a></li>
<li class="chapter" data-level="1.6.3" data-path="basics-of-r.html"><a href="basics-of-r.html#character-data"><i class="fa fa-check"></i><b>1.6.3</b> Character data</a></li>
<li class="chapter" data-level="1.6.4" data-path="basics-of-r.html"><a href="basics-of-r.html#factor---categorical-data"><i class="fa fa-check"></i><b>1.6.4</b> Factor - categorical data</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="basics-of-r.html"><a href="basics-of-r.html#functions-and-help-files"><i class="fa fa-check"></i><b>1.7</b> Functions and help files</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="basics-of-r.html"><a href="basics-of-r.html#function-arguments"><i class="fa fa-check"></i><b>1.7.1</b> Function arguments</a></li>
<li class="chapter" data-level="1.7.2" data-path="basics-of-r.html"><a href="basics-of-r.html#getting-help-for-a-function"><i class="fa fa-check"></i><b>1.7.2</b> Getting help for a function</a></li>
<li class="chapter" data-level="1.7.3" data-path="basics-of-r.html"><a href="basics-of-r.html#specifying-arguments-by-name"><i class="fa fa-check"></i><b>1.7.3</b> Specifying arguments by name</a></li>
<li class="chapter" data-level="1.7.4" data-path="basics-of-r.html"><a href="basics-of-r.html#default-arguments"><i class="fa fa-check"></i><b>1.7.4</b> Default arguments</a></li>
<li class="chapter" data-level="1.7.5" data-path="basics-of-r.html"><a href="basics-of-r.html#the-...-argument"><i class="fa fa-check"></i><b>1.7.5</b> (*) the <code>...</code> argument</a></li>
<li class="chapter" data-level="1.7.6" data-path="basics-of-r.html"><a href="basics-of-r.html#other-help-file-aspects"><i class="fa fa-check"></i><b>1.7.6</b> Other help file aspects</a></li>
<li class="chapter" data-level="1.7.7" data-path="basics-of-r.html"><a href="basics-of-r.html#help-search"><i class="fa fa-check"></i><b>1.7.7</b> Help search</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-types-part-1.html"><a href="data-types-part-1.html"><i class="fa fa-check"></i><b>2</b> Data types, part 1</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#basic-data-types-cont."><i class="fa fa-check"></i><b>2.1</b> Basic data types (cont.)</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#missing-values"><i class="fa fa-check"></i><b>2.1.1</b> Missing values</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#numeric-vectors"><i class="fa fa-check"></i><b>2.1.2</b> Numeric vectors</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#character-vectors"><i class="fa fa-check"></i><b>2.1.3</b> Character vectors</a></li>
<li class="chapter" data-level="2.1.4" data-path="data-types-part-1.html"><a href="data-types-part-1.html#logical-vectors-and-operators"><i class="fa fa-check"></i><b>2.1.4</b> Logical vectors and operators</a></li>
<li class="chapter" data-level="2.1.5" data-path="data-types-part-1.html"><a href="data-types-part-1.html#type-conversions"><i class="fa fa-check"></i><b>2.1.5</b> Type conversions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#vectors-1"><i class="fa fa-check"></i><b>2.2</b> Vectors</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#square-brackets-operator"><i class="fa fa-check"></i><b>2.2.1</b> Square brackets operator</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#class-of-a-vector"><i class="fa fa-check"></i><b>2.2.2</b> (*) Class of a vector</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#other-useful-functions"><i class="fa fa-check"></i><b>2.2.3</b> Other useful functions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#data-frames"><i class="fa fa-check"></i><b>2.3</b> Data frames</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#what-is-a-data-frame"><i class="fa fa-check"></i><b>2.3.1</b> What is a data frame?</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#creating-a-data-frame"><i class="fa fa-check"></i><b>2.3.2</b> Creating a data frame</a></li>
<li class="chapter" data-level="2.3.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#properties"><i class="fa fa-check"></i><b>2.3.3</b> Properties</a></li>
<li class="chapter" data-level="2.3.4" data-path="data-types-part-1.html"><a href="data-types-part-1.html#content"><i class="fa fa-check"></i><b>2.3.4</b> Content</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-types-part-1.html"><a href="data-types-part-1.html#matrices"><i class="fa fa-check"></i><b>2.4</b> Matrices</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-types-part-1.html"><a href="data-types-part-1.html#what-is-a-matrix"><i class="fa fa-check"></i><b>2.4.1</b> What is a matrix</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-types-part-1.html"><a href="data-types-part-1.html#creation"><i class="fa fa-check"></i><b>2.4.2</b> Creation</a></li>
<li class="chapter" data-level="2.4.3" data-path="data-types-part-1.html"><a href="data-types-part-1.html#dimensions-2"><i class="fa fa-check"></i><b>2.4.3</b> Dimensions</a></li>
<li class="chapter" data-level="2.4.4" data-path="data-types-part-1.html"><a href="data-types-part-1.html#settinggetting-names-of-the-columns-and-rows"><i class="fa fa-check"></i><b>2.4.4</b> Setting/getting names of the columns and rows</a></li>
<li class="chapter" data-level="2.4.5" data-path="data-types-part-1.html"><a href="data-types-part-1.html#getting-matrix-elements"><i class="fa fa-check"></i><b>2.4.5</b> Getting matrix elements</a></li>
<li class="chapter" data-level="2.4.6" data-path="data-types-part-1.html"><a href="data-types-part-1.html#useful-matrix-functions"><i class="fa fa-check"></i><b>2.4.6</b> Useful matrix functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-types-part-2.html"><a href="data-types-part-2.html"><i class="fa fa-check"></i><b>3</b> Data types, part 2</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#r-scripts-and-reports-rmarkdown"><i class="fa fa-check"></i><b>3.1</b> R scripts and reports (Rmarkdown)</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#markdown-r-code-markdown-text-formating-language"><i class="fa fa-check"></i><b>3.1.1</b> Markdown : R code + Markdown text formating language</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#features-of-r-markdown"><i class="fa fa-check"></i><b>3.1.2</b> Features of R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#lists"><i class="fa fa-check"></i><b>3.2</b> Lists</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#what-is-a-list"><i class="fa fa-check"></i><b>3.2.1</b> What is a list</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#creation-1"><i class="fa fa-check"></i><b>3.2.2</b> Creation</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-types-part-2.html"><a href="data-types-part-2.html#length"><i class="fa fa-check"></i><b>3.2.3</b> Length</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-types-part-2.html"><a href="data-types-part-2.html#getting-names-of-the-elements"><i class="fa fa-check"></i><b>3.2.4</b> Getting names of the elements</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-types-part-2.html"><a href="data-types-part-2.html#getting-a-single-element"><i class="fa fa-check"></i><b>3.2.5</b> Getting a single element</a></li>
<li class="chapter" data-level="3.2.6" data-path="data-types-part-2.html"><a href="data-types-part-2.html#getting-multiple-elements-as-a-list"><i class="fa fa-check"></i><b>3.2.6</b> (*) Getting multiple elements as a list</a></li>
<li class="chapter" data-level="3.2.7" data-path="data-types-part-2.html"><a href="data-types-part-2.html#removing-an-element"><i class="fa fa-check"></i><b>3.2.7</b> (*) Removing an element</a></li>
<li class="chapter" data-level="3.2.8" data-path="data-types-part-2.html"><a href="data-types-part-2.html#adding-an-element"><i class="fa fa-check"></i><b>3.2.8</b> (*) Adding an element</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-types-part-2.html"><a href="data-types-part-2.html#basic-statistical-tests"><i class="fa fa-check"></i><b>3.3</b> Basic statistical tests</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#statistical-methods-with-r"><i class="fa fa-check"></i><b>3.3.1</b> Statistical methods with R</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-types-part-2.html"><a href="data-types-part-2.html#regression-and-formula-objects"><i class="fa fa-check"></i><b>3.4</b> Regression and formula objects</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#formula-objects"><i class="fa fa-check"></i><b>3.4.1</b> Formula objects</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#simple-linear-regression"><i class="fa fa-check"></i><b>3.4.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-types-part-2.html"><a href="data-types-part-2.html#multiple-regression-and-prediction"><i class="fa fa-check"></i><b>3.4.3</b> Multiple regression and prediction</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-types-part-2.html"><a href="data-types-part-2.html#factors-advanced"><i class="fa fa-check"></i><b>3.5</b> Factors (advanced)</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-types-part-2.html"><a href="data-types-part-2.html#factors-revisited"><i class="fa fa-check"></i><b>3.5.1</b> Factors revisited</a></li>
<li class="chapter" data-level="3.5.2" data-path="data-types-part-2.html"><a href="data-types-part-2.html#anova-and-regression-with-factors"><i class="fa fa-check"></i><b>3.5.2</b> ANOVA and regression with factors</a></li>
<li class="chapter" data-level="3.5.3" data-path="data-types-part-2.html"><a href="data-types-part-2.html#generalized-linear-models-and-survival"><i class="fa fa-check"></i><b>3.5.3</b> (*) Generalized linear models and survival</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>4</b> Functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="functions.html"><a href="functions.html#user-defined-functions"><i class="fa fa-check"></i><b>4.1</b> User-defined Functions</a></li>
<li class="chapter" data-level="4.2" data-path="functions.html"><a href="functions.html#control-flow-constructs"><i class="fa fa-check"></i><b>4.2</b> (*) Control flow constructs</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="functions.html"><a href="functions.html#sequential-execution"><i class="fa fa-check"></i><b>4.2.1</b> Sequential execution</a></li>
<li class="chapter" data-level="4.2.2" data-path="functions.html"><a href="functions.html#conditional-execution-if"><i class="fa fa-check"></i><b>4.2.2</b> Conditional execution: if</a></li>
<li class="chapter" data-level="4.2.3" data-path="functions.html"><a href="functions.html#conditional-execution-ifelse"><i class="fa fa-check"></i><b>4.2.3</b> Conditional execution: if/else</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="functions.html"><a href="functions.html#apply-family-apply-lapply-sapply-tapply"><i class="fa fa-check"></i><b>4.3</b> <code>apply</code> family: apply, lapply, sapply, tapply</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="functions.html"><a href="functions.html#applyx-margin-fun"><i class="fa fa-check"></i><b>4.3.1</b> apply(X, MARGIN, FUN, …)</a></li>
<li class="chapter" data-level="4.3.2" data-path="functions.html"><a href="functions.html#sapplyx-fun"><i class="fa fa-check"></i><b>4.3.2</b> sapply(X, FUN, …)</a></li>
<li class="chapter" data-level="4.3.3" data-path="functions.html"><a href="functions.html#lapplyx-fun-apply-a-function-to-a-listvector"><i class="fa fa-check"></i><b>4.3.3</b> lapply(X, FUN, …) : apply a function to a list/vector</a></li>
<li class="chapter" data-level="4.3.4" data-path="functions.html"><a href="functions.html#tapplyx-index-fun-apply-a-function-to-a-vector-according-to-groups-of-index"><i class="fa fa-check"></i><b>4.3.4</b> tapply(X, INDEX, FUN, …) : apply a function to a vector, according to groups of INDEX</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="functions.html"><a href="functions.html#type-checking"><i class="fa fa-check"></i><b>4.4</b> Type checking</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="functions.html"><a href="functions.html#is.-family-functions"><i class="fa fa-check"></i><b>4.4.1</b> is.* family functions</a></li>
<li class="chapter" data-level="4.4.2" data-path="functions.html"><a href="functions.html#stopwarning"><i class="fa fa-check"></i><b>4.4.2</b> (*) stop(…)/warning(…)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="functions.html"><a href="functions.html#r-programming"><i class="fa fa-check"></i><b>4.5</b> (*) R programming</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="functions.html"><a href="functions.html#general-coding-conventions"><i class="fa fa-check"></i><b>4.5.1</b> General coding conventions</a></li>
<li class="chapter" data-level="4.5.2" data-path="functions.html"><a href="functions.html#finding-installing-and-loading-packages"><i class="fa fa-check"></i><b>4.5.2</b> Finding, installing and loading packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i>Appendix</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#character-string-processing-pattern-matching"><i class="fa fa-check"></i>Character string processing &amp; Pattern matching</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#learning-goals"><i class="fa fa-check"></i>Learning goals</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#quotes-and-escape-characters-characters-with-special-meaning"><i class="fa fa-check"></i>Quotes and escape characters (characters with special meaning)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#character-string"><i class="fa fa-check"></i>Character string</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#paste-sep-collapse-null"><i class="fa fa-check"></i>paste(…, sep = ” “, collapse = NULL):</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#pulse-data-set"><i class="fa fa-check"></i>Pulse data set</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#tolower-toupper-nchar"><i class="fa fa-check"></i>tolower, toupper, nchar</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#split-character-string-strsplitx-split"><i class="fa fa-check"></i>Split character string : strsplit(x, split, …):</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#rbind-cbind-combine-by-rows-or-columns"><i class="fa fa-check"></i>rbind(…), cbind(…) : combine by rows or columns</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#strsplitx-split"><i class="fa fa-check"></i>strsplit(x, split, …)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#do.callwhat-args-execute-function-on-list-of-arguments"><i class="fa fa-check"></i>do.call(what, args, …) : execute function on list of arguments</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#greppattern-x-ignore.case-false-value-false"><i class="fa fa-check"></i>grep(pattern, x, ignore.case = FALSE, value = FALSE, … )</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#greplpattern-x-ignore.case-false"><i class="fa fa-check"></i>grepl(pattern, x, ignore.case = FALSE, …)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#substrx-start-stop-extractreplace-substrings"><i class="fa fa-check"></i>substr(x, start, stop) : extract/replace substrings</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#gsubsubpattern-replacement-x-ignore.case-false"><i class="fa fa-check"></i>gsub/sub(pattern, replacement, x, ignore.case = FALSE, …)</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#extra-exercises"><i class="fa fa-check"></i>Extra exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#s3-and-s4-classes"><i class="fa fa-check"></i>S3 and S4 classes</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#learning-goals-1"><i class="fa fa-check"></i>Learning goals</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#objects"><i class="fa fa-check"></i>Objects</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#s3"><i class="fa fa-check"></i>S3</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#s4"><i class="fa fa-check"></i>S4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#making-errors-the-right-way"><i class="fa fa-check"></i>Making errors the right way</a>
<ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#annoying-errors"><i class="fa fa-check"></i>Annoying errors</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#how-to-correct-annoying-errors"><i class="fa fa-check"></i>How to correct (annoying) errors</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#dangerous-errors"><i class="fa fa-check"></i>Dangerous errors</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#how-to-avoid-dangerous-errors"><i class="fa fa-check"></i>How to avoid (dangerous) errors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#useful-links"><i class="fa fa-check"></i>Useful links</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using R for data analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functions" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Functions<a href="functions.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="user-defined-functions" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> User-defined Functions<a href="functions.html#user-defined-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Functions are constructs that encapsulate series of statements for convenience so you do not repeat the same statements all over again when needed.</p>
<p><strong>Function construct:</strong></p>
<div class="sourceCode" id="cb715"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb715-1"><a href="functions.html#cb715-1" aria-hidden="true" tabindex="-1"></a><span class="co"># (1) default return value is the last statment </span></span>
<span id="cb715-2"><a href="functions.html#cb715-2" aria-hidden="true" tabindex="-1"></a>functionName <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb715-3"><a href="functions.html#cb715-3" aria-hidden="true" tabindex="-1"></a>  statement</span>
<span id="cb715-4"><a href="functions.html#cb715-4" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="cb715-5"><a href="functions.html#cb715-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>value<span class="sc">&gt;</span></span>
<span id="cb715-6"><a href="functions.html#cb715-6" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb715-7"><a href="functions.html#cb715-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb715-8"><a href="functions.html#cb715-8" aria-hidden="true" tabindex="-1"></a><span class="co"># (2) return(...)</span></span>
<span id="cb715-9"><a href="functions.html#cb715-9" aria-hidden="true" tabindex="-1"></a>functionName <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb715-10"><a href="functions.html#cb715-10" aria-hidden="true" tabindex="-1"></a>  statement</span>
<span id="cb715-11"><a href="functions.html#cb715-11" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="cb715-12"><a href="functions.html#cb715-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="sc">&lt;</span>value<span class="sc">&gt;</span>)</span>
<span id="cb715-13"><a href="functions.html#cb715-13" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
<p><strong>Example:</strong></p>
<p>The following function <code>add_one</code> increments its argument by 1:</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="functions.html#cb716-1" aria-hidden="true" tabindex="-1"></a>add_one <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb716-2"><a href="functions.html#cb716-2" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb716-3"><a href="functions.html#cb716-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb716-4"><a href="functions.html#cb716-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb716-5"><a href="functions.html#cb716-5" aria-hidden="true" tabindex="-1"></a><span class="fu">add_one</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="functions.html#cb718-1" aria-hidden="true" tabindex="-1"></a><span class="fu">add_one</span>(<span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>Now let’s update our function to calculate <span class="math inline">\(x^2 + 1\)</span> :</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="functions.html#cb720-1" aria-hidden="true" tabindex="-1"></a>square_add_one <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb720-2"><a href="functions.html#cb720-2" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span>    <span class="co"># choose a variable for temporary result</span></span>
<span id="cb720-3"><a href="functions.html#cb720-3" aria-hidden="true" tabindex="-1"></a>    result <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb720-4"><a href="functions.html#cb720-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb720-5"><a href="functions.html#cb720-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb720-6"><a href="functions.html#cb720-6" aria-hidden="true" tabindex="-1"></a>square_add_one <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb720-7"><a href="functions.html#cb720-7" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span>    <span class="co"># choose a variable for temporary result</span></span>
<span id="cb720-8"><a href="functions.html#cb720-8" aria-hidden="true" tabindex="-1"></a>    res1 <span class="ot">&lt;-</span> result <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb720-9"><a href="functions.html#cb720-9" aria-hidden="true" tabindex="-1"></a>    res2 <span class="ot">&lt;-</span> <span class="fu">log</span>(x)</span>
<span id="cb720-10"><a href="functions.html#cb720-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">sq1 =</span> res1, <span class="at">logx =</span> res2)</span>
<span id="cb720-11"><a href="functions.html#cb720-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb720-12"><a href="functions.html#cb720-12" aria-hidden="true" tabindex="-1"></a><span class="fu">square_add_one</span>(<span class="dv">2</span>) <span class="co"># 2^2 + 1 = 5</span></span></code></pre></div>
<pre><code>## $sq1
## [1] 5
## 
## $logx
## [1] 0.6931472</code></pre>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb722-1"><a href="functions.html#cb722-1" aria-hidden="true" tabindex="-1"></a><span class="fu">square_add_one</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="co"># (-1)^2 + 1 = 2</span></span></code></pre></div>
<pre><code>## Warning in log(x): NaNs produced</code></pre>
<pre><code>## $sq1
## [1] 2
## 
## $logx
## [1] NaN</code></pre>
<p>The following versions of this functions are all equivalent:</p>
<div class="sourceCode" id="cb725"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb725-1"><a href="functions.html#cb725-1" aria-hidden="true" tabindex="-1"></a><span class="co"># (v1) One operation per line.</span></span>
<span id="cb725-2"><a href="functions.html#cb725-2" aria-hidden="true" tabindex="-1"></a>square_add_one <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb725-3"><a href="functions.html#cb725-3" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb725-4"><a href="functions.html#cb725-4" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> result <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb725-5"><a href="functions.html#cb725-5" aria-hidden="true" tabindex="-1"></a>    result    <span class="co"># The last statement is returned as the value.</span></span>
<span id="cb725-6"><a href="functions.html#cb725-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb725-7"><a href="functions.html#cb725-7" aria-hidden="true" tabindex="-1"></a><span class="co"># (v2) No additional &#39;result&#39; variable needed </span></span>
<span id="cb725-8"><a href="functions.html#cb725-8" aria-hidden="true" tabindex="-1"></a>square_add_one <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb725-9"><a href="functions.html#cb725-9" aria-hidden="true" tabindex="-1"></a>    x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb725-10"><a href="functions.html#cb725-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>Multiple arguments</strong> Functions may take as many arguments as needed. Recall the function <code>add_one</code> defined above, now we would like to have a more <code>generic</code> function to increment by a value other
than a constant <code>1</code> :</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="functions.html#cb726-1" aria-hidden="true" tabindex="-1"></a>increment <span class="ot">&lt;-</span> <span class="cf">function</span>(x,i) {</span>
<span id="cb726-2"><a href="functions.html#cb726-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># increment x by i</span></span>
<span id="cb726-3"><a href="functions.html#cb726-3" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">+</span> i</span>
<span id="cb726-4"><a href="functions.html#cb726-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb726-5"><a href="functions.html#cb726-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb726-6"><a href="functions.html#cb726-6" aria-hidden="true" tabindex="-1"></a><span class="fu">increment</span>(<span class="dv">2</span>,<span class="dv">1</span>)             <span class="co"># &lt;=&gt; add_one(2)</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="functions.html#cb728-1" aria-hidden="true" tabindex="-1"></a><span class="fu">increment</span>(<span class="dv">11</span>,<span class="dv">2</span>)            <span class="co"># increment 11 by 2</span></span></code></pre></div>
<pre><code>## [1] 13</code></pre>
<p>You may use the argument names explicitly:</p>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="functions.html#cb730-1" aria-hidden="true" tabindex="-1"></a><span class="fu">increment</span>( <span class="at">x =</span> <span class="dv">14</span>, <span class="at">i =</span> <span class="dv">7</span> ) <span class="co"># increment 14 by 7</span></span></code></pre></div>
<pre><code>## [1] 21</code></pre>
<p>Now let’s write a function which is not already part of the base R, e.g. <code>odd</code>. This function will take as an argument a whole number and returns a logical <code>TRUE</code> if the number is an odd number and FALSE otherwise.</p>
<p>A whole number is odd when it is not integer divisible by 2. We can do this by taking it’s remainder of integer division (<code>%%</code> operator) by 2 and see whether it is non-zero:</p>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="functions.html#cb732-1" aria-hidden="true" tabindex="-1"></a>odd <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb732-2"><a href="functions.html#cb732-2" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">0</span></span>
<span id="cb732-3"><a href="functions.html#cb732-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb732-4"><a href="functions.html#cb732-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb732-5"><a href="functions.html#cb732-5" aria-hidden="true" tabindex="-1"></a><span class="fu">odd</span>(<span class="dv">31</span>) </span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="functions.html#cb734-1" aria-hidden="true" tabindex="-1"></a><span class="fu">odd</span>( <span class="at">x =</span> <span class="dv">6</span> )</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p><strong>Observations:</strong></p>
<ul>
<li>User-defined functions lead to a more structured code.</li>
<li>Variables declared inside a function cease to exist once the function terminates.</li>
<li>Arguments are given in the same order as they are declared in the function except when the argument names are provided explicitly.</li>
</ul>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="exercises/01_userDefinedFunctions.tasks.nocode.html#functions0">the task(s)</a>, and check your solution(s) <a href="exercises/01_userDefinedFunctions.tasks.code.html#functions0">here</a>.</p>
</blockquote>
<hr />
</div>
<div id="control-flow-constructs" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> (*) Control flow constructs<a href="functions.html#control-flow-constructs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>conditional statements</code> are constructs controlling the program sequence being executed. Based on the conditions we impose into the program, we can influence the outcome.</p>
<p><!-- <center>![Program](images/control_flow_2.png)</center> --></p>
<div id="sequential-execution" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Sequential execution<a href="functions.html#sequential-execution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="functions.html#cb736-1" aria-hidden="true" tabindex="-1"></a>statement_1</span>
<span id="cb736-2"><a href="functions.html#cb736-2" aria-hidden="true" tabindex="-1"></a>statement_2; statement_3</span></code></pre></div>
</div>
<div id="conditional-execution-if" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Conditional execution: if<a href="functions.html#conditional-execution-if" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb737"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb737-1"><a href="functions.html#cb737-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only if &#39;condition&#39; variable evaluates to TRUE the </span></span>
<span id="cb737-2"><a href="functions.html#cb737-2" aria-hidden="true" tabindex="-1"></a><span class="co"># statement_T is executed.</span></span>
<span id="cb737-3"><a href="functions.html#cb737-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb737-4"><a href="functions.html#cb737-4" aria-hidden="true" tabindex="-1"></a><span class="co"># condition is TRUE  =&gt;  statement_A ; statement_T ; statement_B</span></span>
<span id="cb737-5"><a href="functions.html#cb737-5" aria-hidden="true" tabindex="-1"></a><span class="co"># condition is FALSE =&gt;  statement_A ; statement_B</span></span>
<span id="cb737-6"><a href="functions.html#cb737-6" aria-hidden="true" tabindex="-1"></a>statement_A</span>
<span id="cb737-7"><a href="functions.html#cb737-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> ( condition ) {</span>
<span id="cb737-8"><a href="functions.html#cb737-8" aria-hidden="true" tabindex="-1"></a>  statement_T</span>
<span id="cb737-9"><a href="functions.html#cb737-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb737-10"><a href="functions.html#cb737-10" aria-hidden="true" tabindex="-1"></a>statement_B</span></code></pre></div>
</div>
<div id="conditional-execution-ifelse" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Conditional execution: if/else<a href="functions.html#conditional-execution-ifelse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="functions.html#cb738-1" aria-hidden="true" tabindex="-1"></a><span class="co"># condition is TRUE  =&gt;  statement_A ; statement_T ; statement_B</span></span>
<span id="cb738-2"><a href="functions.html#cb738-2" aria-hidden="true" tabindex="-1"></a><span class="co"># condition is FALSE =&gt;  statement_A ; statement_F ; statement_B</span></span>
<span id="cb738-3"><a href="functions.html#cb738-3" aria-hidden="true" tabindex="-1"></a>statement_A</span>
<span id="cb738-4"><a href="functions.html#cb738-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> ( condition ) {</span>
<span id="cb738-5"><a href="functions.html#cb738-5" aria-hidden="true" tabindex="-1"></a>  statement_T</span>
<span id="cb738-6"><a href="functions.html#cb738-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb738-7"><a href="functions.html#cb738-7" aria-hidden="true" tabindex="-1"></a>  statement_F</span>
<span id="cb738-8"><a href="functions.html#cb738-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb738-9"><a href="functions.html#cb738-9" aria-hidden="true" tabindex="-1"></a>statement_B</span></code></pre></div>
<!-- [<small>[doc:if]</small>](http://cran.r-project.org/doc/manuals/r-release/R-lang.html#if) -->
<p><strong>Example:</strong></p>
<p>Let’s take the following excerpt from the World Health Organization (WHO):</p>
<p><em>An adult is a person older than 19 years of age unless national law defines a person as being an adult at an earlier age. An adolescent is a person aged 10 to 19 years inclusive. A child is a person 19 years or younger unless national law defines a person to be an adult at an earlier age. However, in these guidelines when a person falls into the 10 to 19 age category they are referred to as an adolescent (see adolescent definition). An infant is a child younger than one year of age.</em></p>
<p>Now we would like to write a function, given the age in years, to evaluate the appropriate age group label for us. For this we need conditional statements.</p>
<p><strong>Important</strong> First we enumerate the age group categories:</p>
<p>Here is a template of the <code>AgeGroup</code> function:</p>
<div class="sourceCode" id="cb739"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb739-1"><a href="functions.html#cb739-1" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb739-2"><a href="functions.html#cb739-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Template</span></span>
<span id="cb739-3"><a href="functions.html#cb739-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb739-4"><a href="functions.html#cb739-4" aria-hidden="true" tabindex="-1"></a>AgeGroup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { </span>
<span id="cb739-5"><a href="functions.html#cb739-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x : is age in year</span></span>
<span id="cb739-6"><a href="functions.html#cb739-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb739-7"><a href="functions.html#cb739-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb739-8"><a href="functions.html#cb739-8" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">0</span>)   <span class="co">#  &quot;infant&quot;</span></span>
<span id="cb739-9"><a href="functions.html#cb739-9" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">10</span>)  <span class="co">#  &quot;adolescent&quot;</span></span>
<span id="cb739-10"><a href="functions.html#cb739-10" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">9</span>)   <span class="co">#  &quot;child&quot;</span></span>
<span id="cb739-11"><a href="functions.html#cb739-11" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">20</span>)  <span class="co">#  &quot;adult&quot;</span></span></code></pre></div>
<p><strong>Scenario 1 : if </strong></p>
<p>Let’s first assume that everybody is a child:</p>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="functions.html#cb740-1" aria-hidden="true" tabindex="-1"></a>AgeGroup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { </span>
<span id="cb740-2"><a href="functions.html#cb740-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x : is age in year</span></span>
<span id="cb740-3"><a href="functions.html#cb740-3" aria-hidden="true" tabindex="-1"></a>  theLabel <span class="ot">&lt;-</span> <span class="st">&quot;child&quot;</span></span>
<span id="cb740-4"><a href="functions.html#cb740-4" aria-hidden="true" tabindex="-1"></a>  theLabel</span>
<span id="cb740-5"><a href="functions.html#cb740-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb740-6"><a href="functions.html#cb740-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb740-7"><a href="functions.html#cb740-7" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">0</span>)   <span class="co">#  &quot;infant&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb742-1"><a href="functions.html#cb742-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">10</span>)  <span class="co">#  &quot;adolescent&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb744"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb744-1"><a href="functions.html#cb744-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">9</span>)   <span class="co">#  &quot;child&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb746"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb746-1"><a href="functions.html#cb746-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">20</span>)  <span class="co">#  &quot;adult&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<p>Next we add a single conditional to capture <code>adult</code> label:</p>
<div class="sourceCode" id="cb748"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb748-1"><a href="functions.html#cb748-1" aria-hidden="true" tabindex="-1"></a><span class="co"># child and adult</span></span>
<span id="cb748-2"><a href="functions.html#cb748-2" aria-hidden="true" tabindex="-1"></a>AgeGroup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { </span>
<span id="cb748-3"><a href="functions.html#cb748-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x : is age in year</span></span>
<span id="cb748-4"><a href="functions.html#cb748-4" aria-hidden="true" tabindex="-1"></a>  theLabel <span class="ot">&lt;-</span> <span class="st">&quot;child&quot;</span></span>
<span id="cb748-5"><a href="functions.html#cb748-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&gt;</span> <span class="dv">19</span> ) {</span>
<span id="cb748-6"><a href="functions.html#cb748-6" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adult&quot;</span></span>
<span id="cb748-7"><a href="functions.html#cb748-7" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb748-8"><a href="functions.html#cb748-8" aria-hidden="true" tabindex="-1"></a>  theLabel</span>
<span id="cb748-9"><a href="functions.html#cb748-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb748-10"><a href="functions.html#cb748-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb748-11"><a href="functions.html#cb748-11" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">0</span>)   <span class="co">#  &quot;infant&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb750"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb750-1"><a href="functions.html#cb750-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">10</span>)  <span class="co">#  &quot;adolescent&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb752"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb752-1"><a href="functions.html#cb752-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">9</span>)   <span class="co">#  &quot;child&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="functions.html#cb754-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">20</span>)  <span class="co">#  &quot;adult&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;adult&quot;</code></pre>
<p>Finally we add the conditional statement to capture the labels <code>adolescent</code> and <code>infant</code> in the same way:</p>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="functions.html#cb756-1" aria-hidden="true" tabindex="-1"></a><span class="co"># version final</span></span>
<span id="cb756-2"><a href="functions.html#cb756-2" aria-hidden="true" tabindex="-1"></a>AgeGroup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { </span>
<span id="cb756-3"><a href="functions.html#cb756-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x : is age in year</span></span>
<span id="cb756-4"><a href="functions.html#cb756-4" aria-hidden="true" tabindex="-1"></a>  theLabel <span class="ot">&lt;-</span> <span class="st">&quot;child&quot;</span></span>
<span id="cb756-5"><a href="functions.html#cb756-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&gt;</span> <span class="dv">19</span> ) {</span>
<span id="cb756-6"><a href="functions.html#cb756-6" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adult&quot;</span></span>
<span id="cb756-7"><a href="functions.html#cb756-7" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb756-8"><a href="functions.html#cb756-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&gt;=</span> <span class="dv">10</span>  <span class="sc">&amp;</span> x <span class="sc">&lt;=</span> <span class="dv">19</span> ) {</span>
<span id="cb756-9"><a href="functions.html#cb756-9" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adolescent&quot;</span></span>
<span id="cb756-10"><a href="functions.html#cb756-10" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb756-11"><a href="functions.html#cb756-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&lt;</span> <span class="dv">1</span> ) {</span>
<span id="cb756-12"><a href="functions.html#cb756-12" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;infant&quot;</span></span>
<span id="cb756-13"><a href="functions.html#cb756-13" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb756-14"><a href="functions.html#cb756-14" aria-hidden="true" tabindex="-1"></a>  theLabel</span>
<span id="cb756-15"><a href="functions.html#cb756-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb756-16"><a href="functions.html#cb756-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb756-17"><a href="functions.html#cb756-17" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">0</span>)   <span class="co">#  &quot;infant&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;infant&quot;</code></pre>
<div class="sourceCode" id="cb758"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb758-1"><a href="functions.html#cb758-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">10</span>)  <span class="co">#  &quot;adolescent&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;adolescent&quot;</code></pre>
<div class="sourceCode" id="cb760"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb760-1"><a href="functions.html#cb760-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">9</span>)   <span class="co">#  &quot;child&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb762"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb762-1"><a href="functions.html#cb762-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">20</span>)  <span class="co">#  &quot;adult&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;adult&quot;</code></pre>
<p><strong>Scenario 2 : if/else</strong></p>
<p><code>if</code> conditional can be extended with <code>else</code> part. This is a more concise way to capture
labels:</p>
<div class="sourceCode" id="cb764"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb764-1"><a href="functions.html#cb764-1" aria-hidden="true" tabindex="-1"></a>AgeGroup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { </span>
<span id="cb764-2"><a href="functions.html#cb764-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x : is age in year</span></span>
<span id="cb764-3"><a href="functions.html#cb764-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labels `adult` and `child`</span></span>
<span id="cb764-4"><a href="functions.html#cb764-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&gt;</span> <span class="dv">19</span> ) {</span>
<span id="cb764-5"><a href="functions.html#cb764-5" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adult&quot;</span></span>
<span id="cb764-6"><a href="functions.html#cb764-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb764-7"><a href="functions.html#cb764-7" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;child&quot;</span></span>
<span id="cb764-8"><a href="functions.html#cb764-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb764-9"><a href="functions.html#cb764-9" aria-hidden="true" tabindex="-1"></a>  theLabel</span>
<span id="cb764-10"><a href="functions.html#cb764-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb764-11"><a href="functions.html#cb764-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb764-12"><a href="functions.html#cb764-12" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">0</span>)   <span class="co">#  &quot;infant&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb766"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb766-1"><a href="functions.html#cb766-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">10</span>)  <span class="co">#  &quot;adolescent&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb768"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb768-1"><a href="functions.html#cb768-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">9</span>)   <span class="co">#  &quot;child&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb770"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb770-1"><a href="functions.html#cb770-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">20</span>)  <span class="co">#  &quot;adult&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;adult&quot;</code></pre>
<p>Now as before we add other conditionals to capture <code>adolescent</code> and <code>infant</code> labels:</p>
<div class="sourceCode" id="cb772"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb772-1"><a href="functions.html#cb772-1" aria-hidden="true" tabindex="-1"></a>AgeGroup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { </span>
<span id="cb772-2"><a href="functions.html#cb772-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x : is age in year</span></span>
<span id="cb772-3"><a href="functions.html#cb772-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labels `adult` and `child`</span></span>
<span id="cb772-4"><a href="functions.html#cb772-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&gt;</span> <span class="dv">19</span> ) {</span>
<span id="cb772-5"><a href="functions.html#cb772-5" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adult&quot;</span></span>
<span id="cb772-6"><a href="functions.html#cb772-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb772-7"><a href="functions.html#cb772-7" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;child&quot;</span></span>
<span id="cb772-8"><a href="functions.html#cb772-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb772-9"><a href="functions.html#cb772-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># label `adolescent`</span></span>
<span id="cb772-10"><a href="functions.html#cb772-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&gt;=</span> <span class="dv">10</span>  <span class="sc">&amp;</span> x <span class="sc">&lt;=</span> <span class="dv">19</span> ) {</span>
<span id="cb772-11"><a href="functions.html#cb772-11" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adolescent&quot;</span></span>
<span id="cb772-12"><a href="functions.html#cb772-12" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb772-13"><a href="functions.html#cb772-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># label `infant`</span></span>
<span id="cb772-14"><a href="functions.html#cb772-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&lt;</span> <span class="dv">1</span> ) {</span>
<span id="cb772-15"><a href="functions.html#cb772-15" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;infant&quot;</span></span>
<span id="cb772-16"><a href="functions.html#cb772-16" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb772-17"><a href="functions.html#cb772-17" aria-hidden="true" tabindex="-1"></a>  theLabel</span>
<span id="cb772-18"><a href="functions.html#cb772-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb772-19"><a href="functions.html#cb772-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb772-20"><a href="functions.html#cb772-20" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">0</span>)   <span class="co">#  &quot;infant&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;infant&quot;</code></pre>
<div class="sourceCode" id="cb774"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb774-1"><a href="functions.html#cb774-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">10</span>)  <span class="co">#  &quot;adolescent&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;adolescent&quot;</code></pre>
<div class="sourceCode" id="cb776"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb776-1"><a href="functions.html#cb776-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">9</span>)   <span class="co">#  &quot;child&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb778"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb778-1"><a href="functions.html#cb778-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">20</span>)  <span class="co">#  &quot;adult&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;adult&quot;</code></pre>
<p><strong>Scenario 2 : if/else/if …</strong></p>
<p>It is also possible to have cascading if/else construct with multiple conditionals:</p>
<div class="sourceCode" id="cb780"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb780-1"><a href="functions.html#cb780-1" aria-hidden="true" tabindex="-1"></a>AgeGroup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { </span>
<span id="cb780-2"><a href="functions.html#cb780-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x : is age in year</span></span>
<span id="cb780-3"><a href="functions.html#cb780-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&gt;</span> <span class="dv">19</span> ) {</span>
<span id="cb780-4"><a href="functions.html#cb780-4" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adult&quot;</span></span>
<span id="cb780-5"><a href="functions.html#cb780-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> ( x <span class="sc">&gt;=</span> <span class="dv">10</span>  <span class="sc">&amp;</span> x <span class="sc">&lt;=</span> <span class="dv">19</span> ) {</span>
<span id="cb780-6"><a href="functions.html#cb780-6" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adolescent&quot;</span></span>
<span id="cb780-7"><a href="functions.html#cb780-7" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> ( x <span class="sc">&lt;</span> <span class="dv">1</span> ) {</span>
<span id="cb780-8"><a href="functions.html#cb780-8" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;infant&quot;</span></span>
<span id="cb780-9"><a href="functions.html#cb780-9" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb780-10"><a href="functions.html#cb780-10" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;child&quot;</span></span>
<span id="cb780-11"><a href="functions.html#cb780-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb780-12"><a href="functions.html#cb780-12" aria-hidden="true" tabindex="-1"></a>  theLabel</span>
<span id="cb780-13"><a href="functions.html#cb780-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb780-14"><a href="functions.html#cb780-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb780-15"><a href="functions.html#cb780-15" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">0</span>)   <span class="co">#  &quot;infant&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;infant&quot;</code></pre>
<div class="sourceCode" id="cb782"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb782-1"><a href="functions.html#cb782-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">10</span>)  <span class="co">#  &quot;adolescent&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;adolescent&quot;</code></pre>
<div class="sourceCode" id="cb784"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb784-1"><a href="functions.html#cb784-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">9</span>)   <span class="co">#  &quot;child&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;child&quot;</code></pre>
<div class="sourceCode" id="cb786"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb786-1"><a href="functions.html#cb786-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="dv">20</span>)  <span class="co">#  &quot;adult&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;adult&quot;</code></pre>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="exercises/01_userDefinedFunctions.tasks.nocode.html#functions1">the task(s)</a>, and check your solution(s) <a href="exercises/01_userDefinedFunctions.tasks.code.html#functions1">here</a>.</p>
</blockquote>
<hr />
</div>
</div>
<div id="apply-family-apply-lapply-sapply-tapply" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> <code>apply</code> family: apply, lapply, sapply, tapply<a href="functions.html#apply-family-apply-lapply-sapply-tapply" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The apply family functions as the name suggests are a mechanism to apply a function to a sequence of predefined arguments.</p>
<div id="applyx-margin-fun" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> apply(X, MARGIN, FUN, …)<a href="functions.html#applyx-margin-fun" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>X</code> is a matrix (or data.frame) and the <code>MARGIN</code> is either 1 or 2 corresponding to row and column respectively. It applies the function <code>FUN</code> to each row or column depending on MARGIN value. The returned value is an array structure, i.e either a vector or a matrix, depending on the function <code>FUN</code> value.</p>
<p>If <code>FUN</code> returns a single value and not a vector then the return value is a vector:</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb788-1"><a href="functions.html#cb788-1" aria-hidden="true" tabindex="-1"></a><span class="co"># apply function to columns (MARGIN=2)</span></span>
<span id="cb788-2"><a href="functions.html#cb788-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(pulse[,<span class="fu">c</span>(<span class="st">&quot;height&quot;</span>,<span class="st">&quot;weight&quot;</span>,<span class="st">&quot;age&quot;</span>)],<span class="dv">2</span>, mean)  </span></code></pre></div>
<pre><code>##    height    weight       age 
## 171.58182  66.33182  20.56364</code></pre>
<p>Applying mean to the columns pulse1 and pulse2 results into NA:</p>
<div class="sourceCode" id="cb790"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb790-1"><a href="functions.html#cb790-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(pulse[,<span class="fu">c</span>(<span class="st">&quot;pulse1&quot;</span>,<span class="st">&quot;pulse2&quot;</span>)],<span class="dv">2</span>, mean)  </span></code></pre></div>
<pre><code>## pulse1 pulse2 
##     NA     NA</code></pre>
<p>This is cause by missing values (NA’s) in pulse1 and pulse2. Note that it the function mean’s behavior that causes this:</p>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="functions.html#cb792-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>( <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">10</span>) ) </span></code></pre></div>
<pre><code>## [1] 4.6</code></pre>
<div class="sourceCode" id="cb794"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb794-1"><a href="functions.html#cb794-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>( <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">10</span>,<span class="cn">NA</span>) ) </span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p><strong>Quiz</strong> How can we get around NA’s and produce mean values for pulse measurements? (Hint: ?mean)</p>
<p>…</p>
</div>
<div id="sapplyx-fun" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> sapply(X, FUN, …)<a href="functions.html#sapplyx-fun" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This is an easy way of running any function for a range of values.</p>
<div class="sourceCode" id="cb796"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb796-1"><a href="functions.html#cb796-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, odd)  <span class="co"># &lt;=&gt;   unlist( lapply(1:4,odd) )</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE FALSE</code></pre>
<p>This is in fact a simplified, user-friendly <code>lapply()</code>, which we will see next.</p>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="exercises/01_userDefinedFunctions.tasks.nocode.html#apply">the task(s)</a>, and check your solution(s) <a href="exercises/01_userDefinedFunctions.tasks.code.html#apply">here</a>.</p>
</blockquote>
<hr />
</div>
<div id="lapplyx-fun-apply-a-function-to-a-listvector" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> lapply(X, FUN, …) : apply a function to a list/vector<a href="functions.html#lapplyx-fun-apply-a-function-to-a-listvector" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>X</code> is the sequence (vector/list) of elements on which the function <code>FUN</code> is applied to each element. The return value is always a list.</p>
<div class="sourceCode" id="cb798"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb798-1"><a href="functions.html#cb798-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, add_one)               <span class="co"># vector as input</span></span></code></pre></div>
<pre><code>## [[1]]
## [1] 2
## 
## [[2]]
## [1] 3</code></pre>
<div class="sourceCode" id="cb800"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb800-1"><a href="functions.html#cb800-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">list</span>(<span class="dv">1</span>,<span class="dv">2</span>), square_add_one)  <span class="co"># list as input</span></span></code></pre></div>
<pre><code>## [[1]]
## [[1]]$sq1
## [1] 2
## 
## [[1]]$logx
## [1] 0
## 
## 
## [[2]]
## [[2]]$sq1
## [1] 5
## 
## [[2]]$logx
## [1] 0.6931472</code></pre>
<p>Note that only the function name, e.g. <code>add_one</code>, is given without it’s argument, <code>lapply</code> is aware of the function’s argument and will instantiate the function first with <code>1</code> and then <code>2</code>.</p>
<p><strong>Quiz</strong> Rewrite <code>lapply(1:2, add_one)</code> by the function <code>increment</code>.</p>
</div>
<div id="tapplyx-index-fun-apply-a-function-to-a-vector-according-to-groups-of-index" class="section level3 hasAnchor" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> tapply(X, INDEX, FUN, …) : apply a function to a vector, according to groups of INDEX<a href="functions.html#tapplyx-index-fun-apply-a-function-to-a-vector-according-to-groups-of-index" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider the data in the vector <code>x</code> and the grouping variable <code>group</code>:</p>
<div class="sourceCode" id="cb802"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb802-1"><a href="functions.html#cb802-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">4</span>,  <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">14</span>, <span class="dv">12</span>)</span>
<span id="cb802-2"><a href="functions.html#cb802-2" aria-hidden="true" tabindex="-1"></a>group <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">each =</span> <span class="dv">5</span>))</span></code></pre></div>
<p>We can display the data by using a boxplot:</p>
<div class="sourceCode" id="cb803"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb803-1"><a href="functions.html#cb803-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(x <span class="sc">~</span> group)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-315-1.png" width="672" /></p>
<p>To compute the means of values of <code>x</code> within groups defined by <code>group</code> we use:</p>
<div class="sourceCode" id="cb804"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb804-1"><a href="functions.html#cb804-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(x, <span class="at">INDEX =</span> group, <span class="at">FUN =</span> mean)</span></code></pre></div>
<pre><code>##    1    2    3 
##  2.4  2.2 11.8</code></pre>
<p><strong>Anonymous functions</strong> Are functions used in R expressions without being declared with a name:</p>
<div class="sourceCode" id="cb806"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb806-1"><a href="functions.html#cb806-1" aria-hidden="true" tabindex="-1"></a><span class="co"># odd: test whether a number is odd (named function)</span></span>
<span id="cb806-2"><a href="functions.html#cb806-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,odd)</span></code></pre></div>
<pre><code>## [[1]]
## [1] TRUE
## 
## [[2]]
## [1] FALSE
## 
## [[3]]
## [1] TRUE
## 
## [[4]]
## [1] FALSE</code></pre>
<div class="sourceCode" id="cb808"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb808-1"><a href="functions.html#cb808-1" aria-hidden="true" tabindex="-1"></a><span class="co"># odd: test whether a number is odd (anonymous function)</span></span>
<span id="cb808-2"><a href="functions.html#cb808-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="cf">function</span>(x) { x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">0</span> } ) </span></code></pre></div>
<pre><code>## [[1]]
## [1] TRUE
## 
## [[2]]
## [1] FALSE
## 
## [[3]]
## [1] TRUE
## 
## [[4]]
## [1] FALSE</code></pre>
</div>
</div>
<div id="type-checking" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Type checking<a href="functions.html#type-checking" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R language is not a <em>strictly typed</em> language. This means the programmer is responsible for making sure that variables involved in an assignment are of the same type. For example :</p>
<div class="sourceCode" id="cb810"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb810-1"><a href="functions.html#cb810-1" aria-hidden="true" tabindex="-1"></a>apple <span class="ot">&lt;-</span> <span class="st">&quot;123&quot;</span>  <span class="co"># character</span></span>
<span id="cb810-2"><a href="functions.html#cb810-2" aria-hidden="true" tabindex="-1"></a>pear  <span class="ot">&lt;-</span> <span class="dv">123</span>    <span class="co"># numeric </span></span>
<span id="cb810-3"><a href="functions.html#cb810-3" aria-hidden="true" tabindex="-1"></a>apple <span class="sc">==</span> pear   <span class="co"># ? </span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb812"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb812-1"><a href="functions.html#cb812-1" aria-hidden="true" tabindex="-1"></a>apple <span class="sc">+</span>  pear   <span class="co"># ?</span></span></code></pre></div>
<pre><code>## Error in apple + pear: non-numeric argument to binary operator</code></pre>
<p>here the last two operations should both produce an error because <code>apple</code> and <code>pear</code> are not of the same type, however R is more liberal towards logical comparison and produces a result even though the variables compared are not of the same type. The mechanism is called <code>type coercion</code> and the full detail is beyond the scope of this course but in short what happens here is that first <code>pear</code> is converted from numeric to character to make the comparison possible and then a lexicographical comparison (dictionary order) is carried out, i.e. :</p>
<div class="sourceCode" id="cb814"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb814-1"><a href="functions.html#cb814-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;123&quot;</span> <span class="sc">==</span> <span class="st">&quot;123&quot;</span> <span class="co"># character comparison</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div id="is.-family-functions" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> is.* family functions<a href="functions.html#is.-family-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These are functions created to check a characteristic in/of the data. Some examples are:</p>
<div class="sourceCode" id="cb816"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb816-1"><a href="functions.html#cb816-1" aria-hidden="true" tabindex="-1"></a><span class="co"># type checkinh</span></span>
<span id="cb816-2"><a href="functions.html#cb816-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="st">&quot;a&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb818"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb818-1"><a href="functions.html#cb818-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb820"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb820-1"><a href="functions.html#cb820-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="st">&quot;b&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb822"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb822-1"><a href="functions.html#cb822-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>( <span class="fu">data.frame</span>() )</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb824"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb824-1"><a href="functions.html#cb824-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(<span class="st">&quot;TRUE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb826"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb826-1"><a href="functions.html#cb826-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(<span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb828"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb828-1"><a href="functions.html#cb828-1" aria-hidden="true" tabindex="-1"></a><span class="co"># missing values</span></span>
<span id="cb828-2"><a href="functions.html#cb828-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="cn">NA</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb830"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb830-1"><a href="functions.html#cb830-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>( <span class="fu">c</span>(<span class="dv">3</span>,<span class="cn">NA</span>,<span class="dv">0</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="cn">NA</span>) )</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<p>All these functions return a logical objetc as response. Note that both:</p>
<div class="sourceCode" id="cb832"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb832-1"><a href="functions.html#cb832-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>and</p>
<div class="sourceCode" id="cb834"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb834-1"><a href="functions.html#cb834-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="cn">NA</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>return an object with a single entry, whilst</p>
<div class="sourceCode" id="cb836"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb836-1"><a href="functions.html#cb836-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="fu">c</span>(<span class="dv">3</span>,<span class="cn">NA</span>,<span class="dv">0</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="cn">NA</span>))</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<p>returns an object which has one logical value for each entry in the input object. This function not only works with vectors as input, but also with matrices. Consider for example the following matrix, which involves some <code>NA</code> entries:</p>
<div class="sourceCode" id="cb838"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb838-1"><a href="functions.html#cb838-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb838-2"><a href="functions.html#cb838-2" aria-hidden="true" tabindex="-1"></a>mat[<span class="dv">1</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> mat[<span class="dv">3</span>, <span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb838-3"><a href="functions.html#cb838-3" aria-hidden="true" tabindex="-1"></a>mat</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1   NA    7
## [2,]    2    5    8
## [3,]    3   NA    9</code></pre>
<p>Then if we apply <code>is.na()</code> to this object, we get:</p>
<div class="sourceCode" id="cb840"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb840-1"><a href="functions.html#cb840-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(mat)</span></code></pre></div>
<pre><code>##       [,1]  [,2]  [,3]
## [1,] FALSE  TRUE FALSE
## [2,] FALSE FALSE FALSE
## [3,] FALSE  TRUE FALSE</code></pre>
<p>which is an object with the same dimensions as the input object <code>mat</code>.</p>
<p><strong>Quiz</strong> Compute the number of <code>NA</code> entries per row and per column of <code>mat</code>.</p>
</div>
<div id="stopwarning" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> (*) stop(…)/warning(…)<a href="functions.html#stopwarning" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When to issue:</p>
<ul>
<li><p><strong>Warnings</strong> : possibility of recovery and no potential harm to the end result</p></li>
<li><p><strong>Errors</strong> : no possibility for recovery and potential harm to the end result</p></li>
</ul>
<div class="sourceCode" id="cb842"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb842-1"><a href="functions.html#cb842-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stop</span>(<span class="st">&quot;your error message !&quot;</span>)</span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): your error message !</code></pre>
<div class="sourceCode" id="cb844"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb844-1"><a href="functions.html#cb844-1" aria-hidden="true" tabindex="-1"></a><span class="fu">warning</span>(<span class="st">&quot;your warning message !&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: your warning message !</code></pre>
<p><strong>Example:</strong></p>
<p>Recall the function <code>AgeGroup</code> which takes age as argument. The function as is now covers all positive numbers but there is a flaw in the function, it can not handle negative input.</p>
<div class="sourceCode" id="cb846"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb846-1"><a href="functions.html#cb846-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="sc">-</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] &quot;infant&quot;</code></pre>
<p>which is an error. The function needs to be modified to prevent the erroneous answer as follows:</p>
<div class="sourceCode" id="cb848"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb848-1"><a href="functions.html#cb848-1" aria-hidden="true" tabindex="-1"></a>AgeGroup <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { </span>
<span id="cb848-2"><a href="functions.html#cb848-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x : is age in year</span></span>
<span id="cb848-3"><a href="functions.html#cb848-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># error on x&lt;0</span></span>
<span id="cb848-4"><a href="functions.html#cb848-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x<span class="sc">&lt;</span><span class="dv">0</span>)</span>
<span id="cb848-5"><a href="functions.html#cb848-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">&quot;invalid age !&quot;</span>)</span>
<span id="cb848-6"><a href="functions.html#cb848-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x &gt;= 0</span></span>
<span id="cb848-7"><a href="functions.html#cb848-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( x <span class="sc">&gt;</span> <span class="dv">19</span> ) {</span>
<span id="cb848-8"><a href="functions.html#cb848-8" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adult&quot;</span></span>
<span id="cb848-9"><a href="functions.html#cb848-9" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> ( x <span class="sc">&gt;=</span> <span class="dv">10</span>  <span class="sc">&amp;</span> x <span class="sc">&lt;=</span> <span class="dv">19</span> ) {</span>
<span id="cb848-10"><a href="functions.html#cb848-10" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;adolescent&quot;</span></span>
<span id="cb848-11"><a href="functions.html#cb848-11" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> ( x <span class="sc">&lt;</span> <span class="dv">1</span> ) {</span>
<span id="cb848-12"><a href="functions.html#cb848-12" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;infant&quot;</span></span>
<span id="cb848-13"><a href="functions.html#cb848-13" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb848-14"><a href="functions.html#cb848-14" aria-hidden="true" tabindex="-1"></a>    theLabel <span class="ot">&lt;-</span> <span class="st">&quot;child&quot;</span></span>
<span id="cb848-15"><a href="functions.html#cb848-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb848-16"><a href="functions.html#cb848-16" aria-hidden="true" tabindex="-1"></a>  theLabel</span>
<span id="cb848-17"><a href="functions.html#cb848-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb848-18"><a href="functions.html#cb848-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb848-19"><a href="functions.html#cb848-19" aria-hidden="true" tabindex="-1"></a><span class="fu">AgeGroup</span>(<span class="sc">-</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Error in AgeGroup(-10): invalid age !</code></pre>
<p><strong>Quiz</strong> What about <code>AgeGroup(1000)</code> ?</p>
<hr />
<blockquote>
<p><em>Quick task(s)</em>:</p>
<p>Solve <a href="exercises/01_userDefinedFunctions.tasks.nocode.html#argcheck">the task(s)</a>, and check your solution(s) <a href="exercises/01_userDefinedFunctions.tasks.code.html#argcheck">here</a>.</p>
</blockquote>
<hr />
</div>
</div>
<div id="r-programming" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> (*) R programming<a href="functions.html#r-programming" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="general-coding-conventions" class="section level3 hasAnchor" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> General coding conventions<a href="functions.html#general-coding-conventions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Coding conventions: to improve <em>readability</em> and <em>maintenance</em>
<ul>
<li>Identifiers:
function names : AgeGroup or age_group
variable names : theLabel</li>
<li>Line Length: maximum 70-80 characters</li>
<li>Indentation</li>
<li>Curly Brace
<ul>
<li>first on same line, last on own line</li>
<li>else: Surround else with braces</li>
</ul></li>
<li>Assignment: use &lt;-, not =</li>
<li>Semicolons: don’t use them</li>
<li>General layout and ordering (library, functions, main)</li>
</ul></li>
<li>Use existing R functions if possible.</li>
<li>Write generic parts as functions for reuse</li>
<li>Inline documentation</li>
</ul>
</div>
<div id="finding-installing-and-loading-packages" class="section level3 hasAnchor" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Finding, installing and loading packages<a href="functions.html#finding-installing-and-loading-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Package</p>
<ul>
<li>Is a bundle of function(s), possibly with data and binary code.</li>
<li>R comes with packages already installed, e.g. <strong>base</strong>, <strong>utils</strong>, <strong>stats</strong>, <strong>methods</strong>, etc.</li>
<li>External packages can be installed and loaded into the workspace</li>
</ul>
<p>Main sources</p>
<ul>
<li>Comprehensive R Archive Network (CRAN)</li>
<li>Bioconductor (genomic data)</li>
</ul>
<p>Links</p>
<ul>
<li><a href="http://cran.r-project.org" class="uri">http://cran.r-project.org</a></li>
<li><a href="http://www.bioconductor.org" class="uri">http://www.bioconductor.org</a></li>
<li><a href="https://www.tidyverse.org" class="uri">https://www.tidyverse.org</a></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-types-part-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
